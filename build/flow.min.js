/**
 * https://github.com/sunag/flow
 */
function __flow__addCSS(e){try{const t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}catch(e){}}__flow__addCSS("f-canvas, f-canvas canvas { position: absolute; top: 0; left: 0; margin: 0; padding: 0; width: 100%; height: 100%; overflow: auto;}f-canvas canvas { position: fixed; overflow: hidden; pointer-events: none;}f-canvas::-webkit-scrollbar { width: 8px; height: 8px;}f-canvas::-webkit-scrollbar-thumb:hover{ background: #014fc5;}f-canvas::-webkit-scrollbar-track { background: #363636;}f-canvas::-webkit-scrollbar-thumb { background-color: #666666; border-radius: 10px; border: 0;}f-node { position: absolute; margin: 0; padding: 0; box-sizing: border-box; user-select: none; width: 320px; z-index: 1; padding-right: 14px;}f-node.closed f-element:not(:first-child) { display: none;}f-node.center { top: 50%; left: 50%; transform: translate( -50%, -50% );}f-node.top-right { top: 0; right: 0;}f-node.top-center { top: 0; left: 50%; transform: translateX( -50% );}f-node.top-left { top: 0; left: 0;}f-element,f-element input,f-element select,f-element button,f-element textarea { font-family: 'Open Sans', sans-serif; font-size: 13px; color: #eeeeee; background-color: #242427; outline: 0; letter-spacing: .5px; margin: 0; padding: 0; border: 0; user-select: none; -webkit-tap-highlight-color: transparent;}f-element { position: relative; width: 100%; background: rgba(45, 45, 48, 0.98); pointer-events: auto; border-bottom: 2px solid #232323; display: flex; padding-left: 7px; padding-right: 7px; padding-top: 2px; padding-bottom: 2px;}f-element { height: 24px;}f-element input { margin-top: 2px; margin-bottom: 2px; box-shadow: inset 0px 1px 1px rgb(0 0 0 / 20%), 0px 1px 0px rgb(255 255 255 / 5%); margin-left: 2px; margin-right: 2px; width: inherit; padding-left: 4px; padding-right: 4px;}f-element input.number { cursor: col-resize;}f-element input:focus[type='text'], f-element input:focus[type='range'], f-element input:focus[type='color'] { background: rgba( 0, 0, 0, 0.6 ); outline: solid 1px rgba( 0, 80, 200, 0.98 );}f-element input[type='color'] { appearance: none; padding: 0; margin-left: 2px; margin-right: 2px; height: calc( 100% - 4px ); margin-top: 2px; border: none; }f-element input[type='color']::-webkit-color-swatch-wrapper { padding: 2px;}f-element input[type='color']::-webkit-color-swatch { border: none; cursor: alias;}f-element input[type='range'] { appearance: none; width: 100%; overflow: hidden; padding: 0; cursor: ew-resize;}f-element input[type='range']::-webkit-slider-runnable-track { appearance: none; height: 10px; color: #13bba4; margin: 0;}f-element input[type='range']::-webkit-slider-thumb { appearance: none; width: 0; background: #434343; box-shadow: -500px 0 0 500px rgba( 0, 120, 255, 0.98 ); border-radius: 50%; border: 0 !important;}f-element input[type='range']::-webkit-slider-runnable-track { margin-left: -4px; margin-right: -5px;}f-element input[type='checkbox'] { appearance: none; cursor: pointer;}f-element input[type='checkbox'].toggle { height: 20px; width: 45px; border-radius: 16px; display: inline-block; position: relative; margin: 0; margin-top: 3px; background: linear-gradient( 0deg, #292929 0%, #0a0a0ac2 100% ); transition: all 0.2s ease;}f-element input[type='checkbox'].toggle:after { content: \"\"; position: absolute; top: 2px; left: 2px; width: 16px; height: 16px; border-radius: 50%; background: white; box-shadow: 0 1px 2px rgba(44, 44, 44, 0.2); transition: all 0.2s cubic-bezier(0.5, 0.1, 0.75, 1.35);}f-element input[type='checkbox'].toggle:checked { background: linear-gradient( 0deg, #0177fb 0%, #0177fb 100% );}f-element input[type='checkbox'].toggle:checked:after { transform: translatex(25px);}f-element.auto-height { display: table;}f-element textarea { width: calc( 100% - 18px ); padding-top: 4px; padding-left: 7px; padding-right: 7px; margin-top: 2px; margin-left: 2px; height: calc( 100% - 8px ); max-height: 300px; border-radius: 2px; resize: none;}f-element.auto-height textarea { resize: auto;}f-element select { width: 100%; margin-top: 2px; margin-bottom: 2px; margin-left: 2px; margin-right: 2px; padding-left: 5px; cursor: pointer; box-shadow: inset 0px 1px 1px rgb(0 0 0 / 20%), 0px 1px 0px rgb(255 255 255 / 5%);}f-element f-toolbar { position: absolute; display: flex; float: right; right: 7px; top: 0; width: 100%; height: 100%; justify-content: end; align-content: space-around;}f-element f-toolbar { margin-top: auto; margin-bottom: auto; margin-left: 3px; margin-right: 3px; font-size: 18px; line-height: 18px;}f-element f-toolbar button { opacity: .7; cursor: pointer; font-size: 19px; width: unset; height: unset; border-radius: unset; border: unset; outline: 0; background-color: unset;}f-element f-toolbar button:hover,f-element f-toolbar button:active { opacity: 1; border: 0; background-color: unset;}f-element input.range-value { width: 60px; text-align: center;}f-element button { width: 100%; height: calc( 100% - 4px ); margin-left: 2px; margin-right: 2px; margin-top: 2px; border-radius: 3px; border: 1px solid #7e7e7e99; cursor: pointer;}f-element button:hover { color: #fff; background-color: #2a2a2a;}f-element button:active { background: rgba( 0, 0, 0, 0.6 ); border: 1px solid rgba( 0, 120, 255, 0.98 );}f-element f-inputs,f-element f-subinputs { display: flex; width: 100%;}f-element f-inputs { padding-left: 30px;}f-element f-label, f-element span { text-shadow: 1px 1px 0px #0007; margin: auto; padding-left: 4px;}f-element f-label:first-child { width: 120px;}f-element f-label.center { width: 100%; text-align: center; display: block;}f-element.title { height: 30px; background-color: #014fc5; cursor: all-scroll; border-top-left-radius: 6px; border-top-right-radius: 6px;}f-element.title.left { text-align: left; display: inline-grid; justify-content: start;}f-element.title span { text-align: center; font-size: 15px; font-weight: bolder; padding-top: 2px;}f-element.title.left span { text-align: left;}f-element f-io { border: 2px solid #dadada; width: 7px; height: 7px; position: absolute; background: #242427; border-radius: 8px; float: left; left: -7px; top: calc( 50% - 5px ); cursor: alias; box-shadow: 0 0 3px 2px #0000005e;}f-element f-io:hover { border: 2px solid #0177fb; zoom: 1.4;}f-element f-io.output { float: right; right: -7px; left: unset;}f-element textarea::-webkit-scrollbar { width: 6px;}f-element textarea::-webkit-scrollbar-track { background: #111; } f-element textarea::-webkit-scrollbar-thumb { background: #0177fb; }f-element textarea::-webkit-scrollbar-thumb:hover { background: #1187ff; }f-element.small { height: 18px;}f-element.large { height: 36px;}f-node.rounded f-element,f-node.rounded f-element.title.left { border-radius: 10px 5px 10px 5px;}f-node.rounded f-element input, f-node.rounded f-element select,f-node.rounded f-element button,f-node.rounded f-element textarea,f-node.rounded f-element input[type='checkbox'].toggle,f-node.rounded f-element input[type='checkbox'].toggle:after { border-radius: 20px 10px;}f-node.rounded f-element input { padding-left: 7px; padding-right: 7px;}f-node.glass f-element { background-color: rgb(48 48 48 / 75%); backdrop-filter: blur(3px);}f-node.glass f-element input,f-node.glass f-element select,f-node.glass f-element button,f-node.glass f-element textarea { background-color: rgb(20 20 20 / 85%);}f-node.glass f-element.title { background-color: #065ad9de;}"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Flow={})}(this,(function(e){"use strict";const t=(e,t,n,o,i,s,a,r)=>{const l=100*(i?-1:1);r.beginPath(),r.moveTo(e,t),r.bezierCurveTo(e+l,t,n-l,o,n,o),r.lineWidth=s,r.strokeStyle=a,r.stroke()},n=(e,t=null)=>{let n=null;const o=t=>{const o=t.touches?t.touches[0]:t;n={client:{x:o.clientX,y:o.clientY},delta:{x:0,y:0},start:{x:e.offsetLeft,y:e.offsetTop},dragging:!1},window.addEventListener("mousemove",i),window.addEventListener("mouseup",s),window.addEventListener("touchmove",i),window.addEventListener("touchend",s)},i=o=>{const{start:i,delta:s,client:a}=n,r=o.touches?o.touches[0]:o;s.x=r.clientX-a.x,s.y=r.clientY-a.y,n.x=i.x+s.x,n.y=i.y+s.y,!0===n.dragging?null!==t?t(n):e.style.cssText+=`; left: ${n.x}px; top: ${n.y}px;`:(Math.abs(s.x)>1||Math.abs(s.y)>1)&&(n.dragging=!0)},s=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",s),!0===n.dragging&&(n.dragging=!1,null!==t?t(n):(e.removeEventListener("mousedown",o),e.removeEventListener("touchstart",o)))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)},o=(e,...t)=>{for(const n of e)n(...t)},i=e=>(!1===isNaN(e)&&(e=`${e}px`),e),s=e=>(!1===isNaN(e)&&(e=`#${e.toString(16).padStart(6,"0")}`),e);var a=Object.freeze({__proto__:null,drawLine:t,draggableDOM:n,dispatchEventList:o,toPX:i,toHex:s});class r{constructor(){this.dom=document.createElement("f-element"),this.inputsDOM=this.dom,this.node=null,this.inputs=[]}add(e){return this.inputs.push(e),e.element=this,this.inputsDOM.appendChild(e.dom),this}setHeight(e){return this.dom.style.height=i(e),this}getHeight(){return this.style.height}}r.prototype.isElement=!0;class l extends EventTarget{constructor(e){super(),this.dom=e,this.element=null,this.events={change:[],click:[]},this.addEventListener("change",(()=>{o(this.events.change,this)})),this.addEventListener("click",(()=>{o(this.events.click,this)}))}onChange(e){return this.events.change.push(e),this}onClick(e){return this.events.click.push(e),this}set value(e){this.dom.value=e}get value(){return this.dom.value}}class d{constructor(){this.dom=document.createElement("f-node"),this.dom.className="rounded",this.style="",this.canvas=null,this.elements=[]}setStyle(e){return this.style&&this.dom.classList.remove(this.style),this.dom.classList.add(e),this.style=e,this}setPosition(e,t){return this.dom.style.cssText+=`; left: ${e}px; top: ${t}px;`,this}getPosition(){const e=this.dom;return{x:e.offsetLeft,y:e.offsetTop}}setWidth(e){return this.dom.style.width=i(e),this}getWidth(){return this.dom.style.width}add(e){return this.elements.push(e),e.node=this,this.dom.appendChild(e.dom),this}}class p extends l{constructor(e=""){const t=document.createElement("input");super(t),t.type="text",t.value=e,t.spellcheck=!1,t.autocomplete="off";const n=e=>{this.dispatchEvent(new Event(e))};t.onblur=()=>{n("blur")},t.onchange=()=>{n("change")},t.onkeydown=e=>{13===e.keyCode&&e.target.blur(),e.stopPropagation()}}}class c extends l{constructor(e=0,t=-1/0,o=1/0,i=.01){const s=document.createElement("input");super(s),this.min=t,this.max=o,this.step=i,this.integer=!1,s.type="text",s.className="number",s.value=this._getString(e),s.spellcheck=!1,s.autocomplete="off";const a=e=>{this.dispatchEvent(new Event(e))};s.onblur=()=>{a("blur")},s.onkeydown=e=>{if(1===e.key.length&&!0!==/\d|\/./.test(e.key))return!1;a("change"),13===e.keyCode&&e.target.blur(),e.stopPropagation()},n(s,(e=>{const{delta:t}=e;void 0===e.value&&(e.value=this.value);const n=t.x-t.y,o=e.value+n*this.step;this.dom.value=this._getString(o.toFixed(this.precision)),a("change")}))}setRange(e,t,n){this.min=e,this.max=t,this.step=n}get precision(){if(!0===this.integer)return 0;const e=this.step%1;return 0!==e?e.toString().split(".")[1].length:1}set value(e){this.dom.value=this._getString(e)}get value(){return Number(this.dom.value)}_getString(e){let t=Math.min(Math.max(Number(e),this.min),this.max);return!0===this.integer?Math.floor(t):t+(t%1?"":".0")}}class h extends l{constructor(e=0,t=0,o=100){const i=document.createElement("f-subinputs");super(i),e=Math.min(Math.max(e,t),o);const s=.001*(o-t),a=document.createElement("input");a.type="range",a.min=t,a.max=o,a.step=s,a.value=e;const r=new c(e,t,o,s);r.dom.className="range-value",r.onChange((()=>{a.value=r.value})),i.appendChild(a),i.appendChild(r.dom),this.min=t,this.max=o,this.step=s,this.rangeDOM=a,this.field=r;const l=e=>{this.dispatchEvent(new Event(e))},d=()=>{let e=Number(a.value);e!==this.max&&e+this.step>=this.max&&(a.value=e=this.max),this.field.value=e};n(a,(e=>{d(),l("change")}))}set value(e){this.field.value=e,this.rangeDOM.value=this.field.value}get value(){return this.field.value}}class u extends l{constructor(e=39423){const t=document.createElement("input");super(t),t.type="color",t.value=s(e)}}class g extends l{constructor(e=""){const t=document.createElement("textarea");super(t),t.innerText=e}set value(e){this.dom.innerText=e}get value(){return this.dom.innerText}}class m extends l{constructor(e=""){const t=document.createElement("button");super(t),t.innerText=e;const n=e=>{this.dispatchEvent(new Event(e))};t.onclick=()=>{n("click")}}set value(e){this.dom.innerText=e}get value(){return this.dom.innerText}}class f extends r{constructor(e="",t=""){super(),this.labelDOM=document.createElement("f-label"),this.inputsDOM=document.createElement("f-inputs"),this.dom.appendChild(this.labelDOM),this.dom.appendChild(this.inputsDOM),this.setLabel(e),this.setAlign(t)}setAlign(e){this.labelDOM.className=e}setLabel(e){this.labelDOM.innerText=e}getLabel(){return this.labelDOM.innerText}}class x extends r{constructor(e=!0){super(),this.draggable=e;const t=()=>{!0===this.draggable&&n(this.node.dom)},{dom:o}=this;o.addEventListener("mousedown",t),o.addEventListener("touchstart",t)}}class b extends x{constructor(e,t=!0){super(t),this.buttons=[],this.dom.className="title";const n=document.createElement("span");n.innerText=e;const o=document.createElement("f-toolbar");this.spanDOM=n,this.toolbarDOM=o,this.dom.appendChild(n),this.dom.appendChild(o)}addButton(e){return this.buttons.push(e),this.toolbarDOM.appendChild(e.dom),this}}e.ButtonInput=m,e.Canvas=class{constructor(){this.dom=document.createElement("f-canvas"),this.canvas=document.createElement("canvas"),this.dom.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.nodes=[],window.requestAnimationFrame(this.update.bind(this))}add(e){return this.nodes.push(e),e.canvas=this,this.dom.appendChild(e.dom),this}getLinks(){const{dom:e,nodes:t}=this,n=[],o=e.getBoundingClientRect(),i={x:o.x-e.scrollLeft,y:o.y-e.scrollTop};for(const e of t)for(const t of e.elements){const e=t.dom.getBoundingClientRect(),o={x:e.x,y:e.y+e.height/2};n.push({source:i,target:o})}return n}update(){window.requestAnimationFrame(this.update.bind(this));const{dom:e,canvas:n,context:o,nodes:i}=this,s=e.getBoundingClientRect();n.width===s.width&&n.height===s.height||(n.width=s.width,n.height=s.height),o.clearRect(0,0,n.width,n.height);const a=this.getLinks();for(const e of a){const{source:n,target:i}=e;t(n.x,n.y,i.x,i.y,!1,2,"white",o)}}},e.ColorInput=u,e.DraggableElement=x,e.Element=r,e.Input=l,e.LabelElement=f,e.Node=d,e.NumberInput=c,e.PanelNode=class extends d{constructor(e="Panel",t="top-right"){super();const n=new b(e);this.add(n);const o=new m("🗕");o.onClick((()=>{this.setCollapse(!this.collapsed)})),n.addButton(o),this.collapseButton=o,this.titleElement=n,this.align=t,this.collapsed=!1,this.setAlign(t),this.setStyle("rouded")}setCollapse(e){const t="closed";return this.dom.classList.remove(t),this.collapsed=e,this.collapseButton.value=e?"🗖":"🗕",!0===e&&this.dom.classList.add(t),this}setAlign(e){return this.align&&this.dom.classList.remove(this.align),this.dom.classList.add(e),this.align=e,this}addInput(e,t,n,...o){const i=new e(t[n],...o);return i.onChange((()=>{t[n]=i.value})),this.add(new f(n).add(i)),i}addSlider(e,t,n,o){return this.addInput(h,e,t,n,o)}addNumber(e,t){return this.addInput(c,e,t)}addColor(e,t){return this.addInput(u,e,t)}addString(e,t){return this.addInput(p,e,t)}addText(e,t){const n=this.addInput(g,e,t);return n.element.setHeight(70),n}addButton(e){const t=new m(e);return this.add((new r).setHeight(34).add(t)),t}},e.SelectInput=class extends l{constructor(e=[]){const t=document.createElement("select");super(t);const n=e=>{this.dispatchEvent(new Event(e))};t.onchange=()=>{n("change")},this.options=e}set options(e){const t=this.dom;this._options=e,t.innerHTML="";for(let n=0;n<e.length;n++){let o=e[n];"string"==typeof o&&(o={name:o,value:n});const i=document.createElement("option");i.innerText=o.name,i.value=o.value,t.appendChild(i)}}get options(){return this._options}},e.SliderInput=h,e.StringInput=p,e.TextInput=g,e.TitleElement=b,e.ToggleInput=class extends l{constructor(e=!1){const t=document.createElement("input");super(t),t.type="checkbox",t.className="toggle",t.checked=e}set value(e){this.dom.checked=e}get value(){return this.dom.checked}},e.Utils=a,Object.defineProperty(e,"__esModule",{value:!0})}));
